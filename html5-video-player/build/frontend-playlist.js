(()=>{"use strict";const e=window.React,t=window.ReactDOM,a=function(e){if(!e)return!1;const t=/^(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/(video\/)?(\d+)(\/[^\s]*)?$/,a=e?.match(t)?.[5];return a?`https://player.vimeo.com/video/${a}`:isNaN(e)?t.test(e):`https://player.vimeo.com/video/${e}`},l=({subtitle:t,poster:a,source:l,qualities:r,isPremium:i,className:s="",reference:o,...c})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("video",{crossOrigin:!0,className:s,id:"player","data-poster":a||"",ref:o,src:l,...c,style:{width:"100%",maxWidth:"100%"}},i&&(0,e.createElement)(e.Fragment,null,Array.isArray(t)?t.map(((t,a)=>{if(!t.caption_file)return;const l=t.label.split("/");return(0,e.createElement)("track",{key:a,kind:"captions",srcLang:l[1]||" ",label:l[0]||"no label",src:t.caption_file})})):"",!["m3u8","mpd"].includes(l?.split(".").pop())&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("source",{src:l,size:720,type:`video/${l?.split(".").pop()}`})))),c["data-poster"]&&(0,e.createElement)("div",{className:"preload_poster",style:{background:`url(${c["data-poster"]})`}})),r=({source:t="https://www.youtube.com/watch?v=MLpWrANjFbI",className:a="",...l})=>(0,e.createElement)("div",{className:`plyr__video-embed ${a}`,id:"player",...l},(0,e.createElement)("iframe",{src:t?`${t}?origin=${window.location.origin}&iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1`:"",allowfullscreen:!0,allowtransparency:!0,allow:"autoplay"}),l["data-poster"]&&(0,e.createElement)("div",{className:"preload_poster",style:{background:`url(${l["data-poster"]})`}})),i=({source:t="https://player.vimeo.com/video/76979871",className:a="",...l})=>(0,e.createElement)("div",{className:`plyr__video-embed ${a}`,id:"player",...l},(0,e.createElement)("iframe",{src:t?`${t}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`:"",allowfullscreen:!0,allowtransparency:!0,allow:"autoplay"}),l["data-poster"]&&(0,e.createElement)("div",{className:"preload_poster",style:{background:`url(${l["data-poster"]})`}})),s=({video:t,options:s,player:o,setPlayer:c})=>{const{video_source:n,h5vp_video_source:d,video_thumb:m,video_title:u,h5vp_video_provider:v}=t,[p,_]=(0,e.useState)(null),[y,E]=(0,e.useState)(!1),f=(0,e.useRef)();return(0,e.useEffect)((()=>{if(o){const e={src:"library"===v?n:d};"library"===v?e.type="video/mp4":e.provider=v,o.source={type:"video",sources:[e]},y&&o?.on("ready",(()=>{o.play()}))}else{document.querySelectorAll("#player_library, #player_youtube, #player_vimeo").forEach((e=>{e.classList.add("hidden")}));const e=f.current?.querySelector(`#player_${v}`);if(e){e.classList.remove("hidden");const t=new Plyr(e,s);c(t),E(!0)}}}),[t]),(0,e.useEffect)((()=>{o?.on("ready",(()=>{f.current?.parentNode?.parentNode?.classList.add("playlist_loaded")}))}),[o]),(0,e.createElement)("div",{className:"video__main",ref:f},(0,e.createElement)("div",{className:"video__thumb video__thumb--big mb-1"},(0,e.createElement)(l,{style:{aspectRatio:"16/9"},id:"player_library","data-poster":m,qualities:[],captions:[],source:n,src:n,isPremium:!0}),(0,e.createElement)(r,{id:"player_youtube",source:(h=d,/^(?:(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?([a-zA-Z0-9_-]+))$/.test(h)?h:!!/^[a-zA-Z0-9_-]{11}$/.test(h)&&`https://www.youtube.com/watch?v=${h}`),"data-poster":m}),(0,e.createElement)(i,{id:"player_vimeo",source:a(d),"data-poster":m})));var h},o=({styles:t={},uniqueId:a})=>{const[l,r]=(0,e.useState)(null);return(0,e.useEffect)((()=>{let e="";"object"==typeof t&&Object.keys(t).map((l=>{if("object"==typeof t[l]){let r="";Object.keys(t[l]).map((e=>{var a;r+=`${a=e,a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}: ${t[l][e]};`})),e+=`#${a} ${[".","#"].includes(l[0])?"":"."}${l}{${r}} `}})),r(e)}),[t,a]),(0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:l}})},c=({attributes:t,nonce:a})=>{const{videos:l,styles:r,options:i,uniqueId:c}=t,[n,d]=(0,e.useState)(l?.[0]||{}),[m,u]=(0,e.useState)(0),[v,p]=(0,e.useState)(null),_=(0,e.useRef)();return console.log(t),(0,e.useEffect)((()=>{setTimeout((()=>{_.current&&(_.current.querySelector(".video__right").style.height=_.current.querySelector(".video__left .video__main").offsetHeight+"px")}),100)}),[n]),(0,e.useEffect)((()=>{v&&i.autoplayNextVideo&&v.on("ended",(()=>{const e=document.querySelector(".item-active"),t=e.nextElementSibling?.dataset?.index||0;t&&u(t)}))}),[v]),(0,e.useEffect)((()=>{window.currentIndex=m,d(l[m]||l[0]),document.querySelectorAll(".item-active").forEach((e=>{e.classList.remove("item-active")})),document.querySelector(`.video-item[data-index="${m}"]`)?.classList.add("item-active")}),[m]),(0,e.createElement)("div",{id:c,className:"video video--bg",ref:_},(0,e.createElement)(o,{styles:r,uniqueId:c}),(0,e.createElement)("div",{className:"h5vp_playlist_container"},(0,e.createElement)("div",{className:"video__left video__wrapper"},(0,e.createElement)(s,{video:n,options:i,player:v,setPlayer:p})),(0,e.createElement)("div",{className:"video__right video__wrapper",style:{aspectRatio:"4/4.3",overflow:"hidden"}},l.map(((t,a)=>{const{video_thumb:l,video_source:r,video_title:i,video_desc:s,h5vp_video_provider:o}=t;return(0,e.createElement)("div",{key:a,className:`video-item video-item-${a} ${m===a?"item-active":""}`,onClick:()=>{d(t),u(a)},"data-index":a},(0,e.createElement)("div",{className:"video-block"},(0,e.createElement)("div",{className:"video-block__container video__container"},(0,e.createElement)("div",{className:"video__thumb video__thumb--small"},(0,e.createElement)("img",{src:l,alt:"video"}))),(0,e.createElement)("div",{className:"video-block__content"},(0,e.createElement)("h2",{title:i,className:"video-block__title video-block__title--small"},i),(0,e.createElement)("p",{className:"video-block__description"},s," "))))})))))},n=({attributes:t,nonce:a})=>{const{videos:l,styles:r,options:i,uniqueId:c}=t,[n,d]=(0,e.useState)(l?.[0]||{}),[m,u]=(0,e.useState)(0),[v,p]=(0,e.useState)(null),_=(0,e.useRef)();return(0,e.useEffect)((()=>{setTimeout((()=>{_.current}),100)}),[n]),(0,e.useEffect)((()=>{v&&i.autoplayNextVideo&&v.on("ended",(()=>{const e=document.querySelector(".item-active"),t=e.nextElementSibling?.dataset?.index||0;t&&u(t)}))}),[v]),(0,e.useEffect)((()=>{window.currentIndex=m,d(l[m]||l[0]),document.querySelectorAll(".item-active").forEach((e=>{e.classList.remove("item-active")})),document.querySelector(`.video-item[data-index="${m}"]`)?.classList.add("item-active"),console.log({currentIndex:m})}),[m]),(0,e.createElement)("div",{id:c,className:"video video--bg simplelist",ref:_},(0,e.createElement)(o,{styles:r,uniqueId:c}),(0,e.createElement)("div",{className:"h5vp_playlist_container"},(0,e.createElement)("div",{className:"video__top video__wrapper"},(0,e.createElement)(s,{video:n,options:i,player:v,setPlayer:p})),(0,e.createElement)("div",{className:"video__top"},l.map(((t,a)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{key:a,className:`video-item video-item-${a} ${m===a?"item-active":""}`,onClick:()=>{d(t),u(a)},"data-index":a},(0,e.createElement)("span",{className:"h5vp_playlist_item","data-provider":t.h5vp_video_provider,"data-poster":t.video_thumb,"data-videoindex":"0","data-source":t.h5vp_video_source},(0,e.createElement)("div",{className:"overlay"}),(0,e.createElement)("div",{className:"noImage"}),(0,e.createElement)("div",{className:"svg"},m===a?(0,e.createElement)("svg",{"aria-hidden":"true",focusable:"false"},(0,e.createElement)("use",{xlinkHref:"#plyr-pause"})):(0,e.createElement)("svg",{"aria-hidden":"true",focusable:"false"},(0,e.createElement)("use",{xlinkHref:"#plyr-play"}))),(0,e.createElement)("video",{src:"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4",style:{display:"none"}})),(0,e.createElement)("div",{className:"video_title"},(0,e.createElement)("h3",{className:"title"},t.video_title)))))))))},d=({attributes:t,nonce:a})=>{const{videos:l,styles:r,options:i,uniqueId:c}=t,[n,d]=(0,e.useState)(l?.[0]||{}),[m,u]=(0,e.useState)(0),[v,p]=(0,e.useState)(null),_=(0,e.useRef)();return(0,e.useEffect)((()=>{setTimeout((()=>{_.current}),100)}),[n]),(0,e.useEffect)((()=>{if(_.current){let e="50px";const t=_.current.querySelectorAll(".video_title .title");t.forEach((t=>{const a=getComputedStyle(t).height;a>e&&(e=a)})),t.forEach((t=>t.style.height=e)),jQuery(_.current.querySelector(".list_items")).owlCarousel({nav:!0,responsive:{0:{items:1},480:{items:2},769:{items:3}}}),_.current.querySelector(".list_items").classList.add("owl-carousel"),_.current.querySelectorAll(".h5vp_playlist_item").forEach((e=>e.addEventListener("click",(e=>e.preventDefault()))))}}),[]),(0,e.useEffect)((()=>{v&&i.autoplayNextVideo&&v.on("ended",(()=>{const e=document.querySelector(".item-active"),t=e.nextElementSibling?.dataset?.index||0;t&&u(t)}))}),[v]),(0,e.useEffect)((()=>{window.currentIndex=m,d(l[m]||l[0]),document.querySelectorAll(".item-active").forEach((e=>{e.classList.remove("item-active")})),document.querySelector(`.video-item[data-index="${m}"]`)?.classList.add("item-active")}),[m]),(0,e.createElement)("div",{id:c,className:"video video--bg listwithposter",ref:_},(0,e.createElement)(o,{styles:r,uniqueId:c}),(0,e.createElement)("div",{className:"h5vp_playlist_container "},(0,e.createElement)("div",{className:"video__top video__wrapper"},(0,e.createElement)(s,{video:n,options:i,player:v,setPlayer:p})),(0,e.createElement)("div",{className:"video__top list_items "},l.map(((t,a)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{key:a,className:`video-item video-item-${a} ${m===a?"item-active":""}`,onClick:()=>{d(t),u(a)},"data-index":a},(0,e.createElement)("a",{href:"#",className:"h5vp_playlist_item","data-provider":t.h5vp_video_provider,"data-poster":t.video_thumb,"data-videoindex":"0","data-source":t.h5vp_video_source},(0,e.createElement)("div",{className:"overlay"}),t.video_thumb?(0,e.createElement)("img",{decoding:"async",className:"video_thumb",src:t.video_thumb,alt:""}):(0,e.createElement)("div",{className:"noImage"}),(0,e.createElement)("div",{className:"svg"},m===a?(0,e.createElement)("svg",{"aria-hidden":"true",focusable:"false"},(0,e.createElement)("use",{xlinkHref:"#plyr-pause"})):(0,e.createElement)("svg",{"aria-hidden":"true",focusable:"false"},(0,e.createElement)("use",{xlinkHref:"#plyr-play"}))),(0,e.createElement)("video",{src:"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4",style:{display:"none"}})),(0,e.createElement)("div",{className:"video_title"},(0,e.createElement)("h3",{className:"title"},t.video_title)))))))))};document.addEventListener("DOMContentLoaded",(function(){u()}));const m=t=>{const{playlistType:a}=t.attributes;return"simplelist"===a?(0,e.createElement)(n,{...t}):"listwithposter"===a?(0,e.createElement)(d,{...t}):(0,e.createElement)(c,{...t})},u=()=>{const a=document.querySelectorAll(".h5vp_playlist");a?.forEach((a=>{const l=(e=>{let t=null;try{t=JSON.parse(e)}catch(e){console.warn(e.message)}return t})(a.dataset.attributes);if(a.removeAttribute("data-attributes"),a.removeAttribute("data-data"),!l)return!1;const r=a.dataset.nonce;"object"==typeof l&&a&&(0,t.createRoot)(a).render((0,e.createElement)(m,{attributes:l,nonce:r}))}))}})();