(()=>{"use strict";const e=window.React,t=window.ReactDOM,a=function(e){if(!e)return!1;const t=/^(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/(video\/)?(\d+)(\/[^\s]*)?$/,a=e?.match(t)?.[5];return a?`https://player.vimeo.com/video/${a}`:isNaN(e)?t.test(e):`https://player.vimeo.com/video/${e}`},i=({poster:t,source:a,isPremium:i,className:s="",reference:r,...l})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("video",{crossOrigin:!0,className:s,id:"player","data-poster":t||"",ref:r,src:a,...l,style:{width:"100%",maxWidth:"100%"}},i&&(0,e.createElement)(e.Fragment,null,!["m3u8","mpd"].includes(a?.split(".").pop())&&(0,e.createElement)(e.Fragment,null))),l["data-poster"]&&(0,e.createElement)("div",{className:"preload_poster",style:{background:`url(${l["data-poster"]})`}})),s=({source:t="https://www.youtube.com/watch?v=MLpWrANjFbI",className:a="",...i})=>(0,e.createElement)("div",{className:`plyr__video-embed ${a}`,id:"player",...i},(0,e.createElement)("iframe",{src:t?`${t}?origin=${window.location.origin}&iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1`:"",allowfullscreen:!0,allowtransparency:!0,allow:"autoplay"}),i["data-poster"]&&(0,e.createElement)("div",{className:"preload_poster",style:{background:`url(${i["data-poster"]})`}})),r=({source:t="https://player.vimeo.com/video/76979871",className:a="",...i})=>(0,e.createElement)("div",{className:`plyr__video-embed ${a}`,id:"player",...i},(0,e.createElement)("iframe",{src:t?`${t}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`:"",allowfullscreen:!0,allowtransparency:!0,allow:"autoplay"}),i["data-poster"]&&(0,e.createElement)("div",{className:"preload_poster",style:{background:`url(${i["data-poster"]})`}}));var l=class{constructor(){this.callbacks={}}addEventListener(e,t){"function"==typeof t&&(void 0===this.callbacks[e]&&(this.callbacks[e]=[void 0]),this.callbacks[e].push(t))}on(e,t){this.addEventListener(e,t)}dispatchEvent(e,t){if(void 0===this.callbacks[e])return;let a=new l.Event;a.type=e,a.target=this,a.data=t,this.callbacks[e].forEach(e=>{"function"==typeof e&&e(a)})}},o=l;o.Event=class{constructor(){this.type="",this.target={},this.data={}}};const n=class extends o{constructor(e=null,t={},a=[]){super(),this.container=e,this.videos=a,this.options={...t,fullscreen:{enabled:!0,fallback:!0,iosNative:!0,container:null}},this.currentIndex=0,this.player=null,this.initialize()}initialize(){this.container&&("IFRAME"===this.container.tagName||"VIDEO"===this.container.tagName?this.media=this.container:this.media=this.container.querySelector("video, iframe"),this.media?"m3u8"===this.media.src?.split(".").pop()?this.videoHls():"mpd"===this.media.src?.split(".").pop()?this.videoDash():(this.player=new Plyr(this.media,this.options),this.player.on("ready",this.onReady)):console.error("No media element found in the container."))}setVideos(e){this.videos=e,this.currentIndex=0,this.emit("videosUpdated",this.videos)}onReady(){}playVideoAtIndex(e){if(e>=0&&e<this.videos.length){this.currentIndex=e;const t=this.videos[this.currentIndex];this.emit("videoChanged",t,this.currentIndex),this.player&&(this.player.source=t.source,this.player.play())}}next(){const e=(this.currentIndex+1)%this.videos.length;this.playVideoAtIndex(e)}previous(){const e=(this.currentIndex-1+this.videos.length)%this.videos.length;this.playVideoAtIndex(e)}attachPlayer(e){this.player=e,this.player.on("ended",()=>{this.options.autoplayNextVideo&&this.next()})}isPlaying(){return this.player?.playing}destroy(){this.player&&(this.player.destroy(),this.player=null),this.videos=[],this.currentIndex=0,this.removeAllListeners()}removeAllListeners(){}videoHls(){const e=()=>{if(window.Hls?.isSupported()){this.player=new Plyr(this.media,this.options);const e=new window.Hls;e.loadSource(this.media.src),this.player.on("ready",()=>{e.attachMedia(this.media)}),this.player.ready&&e.attachMedia(this.player.media),e.on(window.Hls.Events.MANIFEST_PARSED,()=>{["metadata","none"].includes(this.options.preload)&&setTimeout(()=>{e.stopLoad()},1e3),this.player.on("play",function(){e.startLoad()})}),this.player?.on("languagechange",()=>{setTimeout(()=>e.subtitleTrack=this.player.currentTrack,50)})}else console.warn("Hls does not support"),this.player=new Plyr(this.media,this.options)};let t=document.getElementById("h5vp-hls-js");t?e():(t=document.createElement("script"),t.setAttribute("id","h5vp-hls-js"),t.src=this.local?.hls,document.getElementsByTagName("head")[0]?.prepend(t),t?.addEventListener("load",()=>e()))}videoDash(){if(dashjs){const e=window.dashjs.MediaPlayer().create(),t=this.media;e.initialize(t,t.src,!0),this.dash=e,setTimeout(()=>{this.player=new Plyr(t,this.options),this.player.on("ready",this.onReady)},10)}}},c=({video:t,options:l,player:o,setPlayer:c})=>{const{video_source:d,h5vp_video_source:m,video_thumb:u,h5vp_video_provider:p}=t,[v,h]=(0,e.useState)(!1),y=(0,e.useRef)(),_=(0,e.useRef)();return(0,e.useEffect)(()=>{if(_.current){const e={src:"library"===p?d:m};"library"===p?e.type="video/mp4":e.provider=p,_.current?.player&&(_.current.player.source={type:"video",sources:[e]})}else{document.querySelectorAll("#player_library, #player_youtube, #player_vimeo").forEach(e=>{e.classList.add("hidden")});const e=y.current?.querySelector(`#player_${p}`);e&&(e.classList.remove("hidden"),e.src=d,_.current=new n(e,l),c(_.current.player),v&&_.current?.player?.on("ready",()=>{_.current?.player.play()}),h(!0))}return()=>{_.current&&(_.current.destroy(),c(null),_.current=null)}},[t]),(0,e.useEffect)(()=>{_.current?.player?.on("ready",()=>{y.current?.parentNode?.parentNode?.classList.add("playlist_loaded")})},[o]),(0,e.createElement)("div",{className:"video__main",ref:y},(0,e.createElement)("div",{className:"video__thumb video__thumb--big mb-1"},(0,e.createElement)(i,{style:{aspectRatio:"16/9"},id:"player_library","data-poster":u,qualities:[],captions:[],source:d,src:d,isPremium:!0,playsInline:!0}),(0,e.createElement)(s,{id:"player_youtube",source:(E=m,/^(?:(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?([a-zA-Z0-9_-]+))$/.test(E)?E:!!/^[a-zA-Z0-9_-]{11}$/.test(E)&&`https://www.youtube.com/watch?v=${E}`),"data-poster":u}),(0,e.createElement)(r,{id:"player_vimeo",source:a(m),"data-poster":u})));var E},d=({styles:t={},uniqueId:a})=>{const[i,s]=(0,e.useState)(null);return(0,e.useEffect)(()=>{let e="";"object"==typeof t&&Object.keys(t).map(i=>{if("object"==typeof t[i]){let s="";Object.keys(t[i]).map(e=>{var a;s+=`${a=e,a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}: ${t[i][e]};`}),e+=`#${a} ${[".","#"].includes(i[0])?"":"."}${i}{${s}} `}}),s(e)},[t,a]),(0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:i}})},m=({attributes:t})=>{const{videos:a,styles:i,options:s,uniqueId:r}=t,[l,o]=(0,e.useState)(a?.[0]||{}),[n,m]=(0,e.useState)(0),[u,p]=(0,e.useState)(null),v=(0,e.useRef)();return(0,e.useEffect)(()=>{setTimeout(()=>{v.current&&(v.current.querySelector(".video__right").style.height=v.current.querySelector(".video__left .video__main").offsetHeight+"px")},100)},[l]),(0,e.useEffect)(()=>{u&&s.autoplayNextVideo&&u.on("ended",()=>{const e=document.querySelector(".item-active"),t=e.nextElementSibling?.dataset?.index||0;t&&m(t)})},[u]),(0,e.useEffect)(()=>{window.currentIndex=n,o(a[n]||a[0]),document.querySelectorAll(".item-active").forEach(e=>{e.classList.remove("item-active")}),document.querySelector(`.video-item[data-index="${n}"]`)?.classList.add("item-active")},[n]),(0,e.createElement)("div",{id:r,className:"video video--bg",ref:v},(0,e.createElement)(d,{styles:i,uniqueId:r}),(0,e.createElement)("div",{className:"h5vp_playlist_container"},(0,e.createElement)("div",{className:"video__left video__wrapper"},(0,e.createElement)(c,{video:l,options:s,player:u,setPlayer:p})),(0,e.createElement)("div",{className:"video__right video__wrapper",style:{aspectRatio:"4/4.3",overflow:"hidden"}},a.map((t,a)=>{const{video_thumb:i,video_title:s,video_desc:r}=t;return(0,e.createElement)("div",{key:a,className:`video-item video-item-${a} ${n===a?"item-active":""}`,onClick:()=>{o(t),m(a)},"data-index":a},(0,e.createElement)("div",{className:"video-block"},(0,e.createElement)("div",{className:"video-block__container video__container"},(0,e.createElement)("div",{className:"video__thumb video__thumb--small"},(0,e.createElement)("img",{src:i,alt:"video"}))),(0,e.createElement)("div",{className:"video-block__content"},(0,e.createElement)("h2",{title:s,className:"video-block__title video-block__title--small"},s),(0,e.createElement)("p",{className:"video-block__description"},r," "))))}))))},u=({attributes:t})=>{const{videos:a,styles:i,options:s,uniqueId:r}=t,[l,o]=(0,e.useState)(a?.[0]||{}),[n,m]=(0,e.useState)(0),[u,p]=(0,e.useState)(null),v=(0,e.useRef)(),h=(0,e.useRef)(null);return(0,e.useEffect)(()=>{setTimeout(()=>{v.current},100)},[l]),(0,e.useEffect)(()=>{u&&s.autoplayNextVideo&&u.on("ended",()=>{const e=document.querySelector(".item-active"),t=e.nextElementSibling?.dataset?.index||0;t&&m(t)}),window.player=u},[u]),(0,e.useEffect)(()=>{window.currentIndex=n,o(a[n]||a[0]),document.querySelectorAll(".item-active").forEach(e=>{e.classList.remove("item-active")}),document.querySelector(`.video-item[data-index="${n}"]`)?.classList.add("item-active")},[n]),window.playlistRef=h,(0,e.createElement)("div",{id:r,className:"video video--bg simplelist",ref:v},(0,e.createElement)(d,{styles:i,uniqueId:r}),(0,e.createElement)("div",{className:"h5vp_playlist_container"},(0,e.createElement)("div",{className:"video__top video__wrapper"},(0,e.createElement)(c,{video:l,playlistRef:h,options:s,player:u,setPlayer:p})),(0,e.createElement)("div",{className:"video__top"},a.map((t,a)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{key:a,className:`video-item video-item-${a} ${n===a?"item-active":""}`,onClick:()=>{o(t),m(a)},"data-index":a},(0,e.createElement)("span",{className:"h5vp_playlist_item","data-provider":t.h5vp_video_provider,"data-poster":t.video_thumb,"data-videoindex":"0","data-source":t.h5vp_video_source},(0,e.createElement)("div",{className:"overlay"}),(0,e.createElement)("div",{className:"noImage"}),(0,e.createElement)("video",{src:"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4",style:{display:"none"}})),(0,e.createElement)("div",{className:"video_title"},(0,e.createElement)("h3",{className:"title"},t.video_title))))))))},p=({attributes:t})=>{const{videos:a,styles:i,options:s,uniqueId:r}=t,[l,o]=(0,e.useState)(a?.[0]||{}),[n,m]=(0,e.useState)(0),[u,p]=(0,e.useState)(null),v=(0,e.useRef)();return(0,e.useEffect)(()=>{setTimeout(()=>{v.current},100)},[l]),(0,e.useEffect)(()=>{if(v.current){let e="50px";const t=v.current.querySelectorAll(".video_title .title");t.forEach(t=>{const a=getComputedStyle(t).height;a>e&&(e=a)}),t.forEach(t=>t.style.height=e),jQuery(v.current.querySelector(".list_items")).owlCarousel({nav:!0,responsive:{0:{items:1},480:{items:2},769:{items:3}}}),v.current.querySelector(".list_items").classList.add("owl-carousel"),v.current.querySelectorAll(".h5vp_playlist_item").forEach(e=>e.addEventListener("click",e=>e.preventDefault()))}},[]),(0,e.useEffect)(()=>{u&&s.autoplayNextVideo&&u.on("ended",()=>{const e=document.querySelector(".item-active"),t=e.nextElementSibling?.dataset?.index||0;t&&m(t)})},[u]),(0,e.useEffect)(()=>{window.currentIndex=n,o(a[n]||a[0]),document.querySelectorAll(".item-active").forEach(e=>{e.classList.remove("item-active")}),document.querySelector(`.video-item[data-index="${n}"]`)?.classList.add("item-active")},[n]),(0,e.createElement)("div",{id:r,className:"video video--bg listwithposter",ref:v},(0,e.createElement)(d,{styles:i,uniqueId:r}),(0,e.createElement)("div",{className:"h5vp_playlist_container "},(0,e.createElement)("div",{className:"video__top video__wrapper"},(0,e.createElement)(c,{video:l,options:s,player:u,setPlayer:p})),(0,e.createElement)("div",{className:"video__top list_items "},a.map((t,a)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{key:a,className:`video-item video-item-${a} ${n===a?"item-active":""}`,onClick:()=>{o(t),m(a)},"data-index":a},(0,e.createElement)("a",{href:"#",className:"h5vp_playlist_item","data-provider":t.h5vp_video_provider,"data-poster":t.video_thumb,"data-videoindex":"0","data-source":t.h5vp_video_source},(0,e.createElement)("div",{className:"overlay"}),t.video_thumb?(0,e.createElement)("img",{decoding:"async",className:"video_thumb",src:t.video_thumb,alt:""}):(0,e.createElement)("div",{className:"noImage"}),(0,e.createElement)("div",{className:"svg"},n===a?(0,e.createElement)("svg",{"aria-hidden":"true",focusable:"false"},(0,e.createElement)("use",{xlinkHref:"#plyr-pause"})):(0,e.createElement)("svg",{"aria-hidden":"true",focusable:"false"},(0,e.createElement)("use",{xlinkHref:"#plyr-play"}))),(0,e.createElement)("video",{src:"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4",style:{display:"none"}})),(0,e.createElement)("div",{className:"video_title"},(0,e.createElement)("h3",{className:"title"},t.video_title))))))))};document.addEventListener("DOMContentLoaded",function(){h()});const v=t=>{const{playlistType:a}=t.attributes;return"simplelist"===a?(0,e.createElement)(u,{...t}):"listwithposter"===a?(0,e.createElement)(p,{...t}):(0,e.createElement)(m,{...t})},h=()=>{const a=document.querySelectorAll(".h5vp_playlist");a?.forEach(a=>{const i=(e=>{let t=null;try{t=JSON.parse(e)}catch(e){console.warn(e.message)}return t})(a.dataset.attributes);if(a.removeAttribute("data-attributes"),a.removeAttribute("data-data"),!i)return!1;const s=a.dataset.nonce;"object"==typeof i&&a&&(0,t.createRoot)(a).render((0,e.createElement)(v,{attributes:i,nonce:s}))})}})();